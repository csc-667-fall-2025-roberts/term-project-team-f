{"version":3,"file":"entrypoint.js","sources":["../../../frontend/entrypoint.ts"],"sourcesContent":["// Import main styles\nimport \"./styles.css\";\n\nimport \"./Game.ts\";\n\n// App initialization\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const btn = document.getElementById(\"start-game-btn\") as HTMLButtonElement | null;\n  if (btn && typeof window.GAME_ID !== \"undefined\" && window.GAME_ID !== undefined) {\n    // Handle form submission for start game button\n    const form = btn.closest(\"form\");\n    if (form) {\n      form.addEventListener(\"submit\", async (e) => {\n        e.preventDefault();\n        try {\n          const retVal = await fetch(`/games/${window.GAME_ID}/start`, {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n          });\n\n          if (!retVal.ok) {\n            alert(\"Failed to start the game...\");\n            return;\n          }\n          //preventing double clicking\n          btn.disabled = true;\n\n          //refresh to be in the newly started game\n          window.location.reload();\n        } catch (err) {\n          console.error(err);\n          alert(\"Problem while starting the game...\");\n        }\n      });\n    }\n  }\n  // Add any global initialization logic here\n});\n"],"names":["btn","form","e","err"],"mappings":"sDAMA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMA,EAAM,SAAS,eAAe,gBAAgB,EACpD,GAAIA,GAAO,OAAO,OAAO,QAAY,KAAe,OAAO,UAAY,OAAW,CAEhF,MAAMC,EAAOD,EAAI,QAAQ,MAAM,EAC3BC,GACFA,EAAK,iBAAiB,SAAU,MAAOC,GAAM,CAC3CA,EAAE,eAAA,EACF,GAAI,CAMF,GAAI,EALW,MAAM,MAAM,UAAU,OAAO,OAAO,SAAU,CAC3D,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAA,CAAmB,CAC/C,GAEW,GAAI,CACd,MAAM,6BAA6B,EACnC,MACF,CAEAF,EAAI,SAAW,GAGf,OAAO,SAAS,OAAA,CAClB,OAASG,EAAK,CACZ,QAAQ,MAAMA,CAAG,EACjB,MAAM,oCAAoC,CAC5C,CACF,CAAC,CAEL,CAEF,CAAC"}